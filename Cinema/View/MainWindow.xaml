<RibbonWindow x:Class="Cinema.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"       
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:cinema="clr-namespace:Cinema" 
        xmlns:vm="clr-namespace:Cinema.VM"
        xmlns:local="clr-namespace:Cinema.View"
        d:DataContext="{d:DesignInstance Type=cinema:MovieLibraryVM}"
        mc:Ignorable="d"
        Title="Main Window" Height="450" Width="800" WindowState="Maximized" Icon="../Resources/icons/video-playlist.png">

    <RibbonWindow.Resources>
        <Style TargetType="{x:Type TabItem}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Grid>
                            <Border 
                                Name="Border"
                                Margin="5,0,-2,0" 
                                Background="#EBEBEC"
                                BorderBrush="#888" 
                                BorderThickness="1" 
                                CornerRadius="2" >
                                <ContentPresenter x:Name="ContentSite"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center"
                                    ContentSource="Header"
                                    Margin="12,2,12,2"
                                    RecognizesAccessKey="True"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Panel.ZIndex" Value="100" />
                                <Setter TargetName="Border" Property="Background" Value="#F2F2F2" />
                                <Setter TargetName="Border" Property="BorderThickness" Value="1,1,1,0" />
                                <Setter Property="Foreground" Value="Black"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </RibbonWindow.Resources>

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Ribbon x:Name="_ribbon" SelectedIndex="{Binding ElementName=tabController, Path=SelectedIndex}" Background="#F2F2F2"
                  BorderBrush="#83c7b5"
                  MouseOverBackground="#f0fffb"
                  MouseOverBorderBrush="#bdffee"
                  Cursor="Hand">
            <RibbonTab x:Name="moviesControl" Header="Movie Library">
                <RibbonTab.Style>
                    <Style TargetType="{x:Type RibbonTab}">
                        <Setter Property="Visibility" Value="Visible"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding  ElementName=tabController, Path=SelectedIndex}" Value="1">
                                <Setter Property="Visibility" Value="Hidden" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </RibbonTab.Style>
                <RibbonGroup Header="Add movie">
                    <RibbonButton LargeImageSource="../Resources/icons/video.png"
                                  Width="70" Height="50" Margin="0, 7, 0, 0" Command="{x:Static vm:Commands.AddMovieDialog}"></RibbonButton>
                </RibbonGroup>
                <RibbonGroup Header="Appearance">
                    <RibbonSplitButton x:Name="listAppearance" Margin="7, 7, 0, 0" LargeImageSource="../Resources/icons/graphic-design.png">
                        <RibbonGallery>
                            <RibbonGalleryCategory>
                                <RibbonMenuItem x:Name="smaller" ImageSource="../Resources/icons/reduce.png" Header="Small image" Command="{x:Static vm:Commands.Appearance}" CommandParameter="{x:Static local:Appearance.Small}"/>
                                <RibbonMenuItem Header="Big Images" ImageSource="../Resources/icons/increase.png" Command="{x:Static vm:Commands.Appearance}" CommandParameter="{x:Static local:Appearance.Big}"/>
                            </RibbonGalleryCategory>
                        </RibbonGallery>
                    </RibbonSplitButton>
                </RibbonGroup>
                <RibbonGroup Header="Sorting">
                    <RibbonMenuButton LargeImageSource="../Resources/icons/sort.png" Margin="0, 7, 0, 0">
                        <RibbonMenuItem Header="name" ImageSource="../Resources/icons/nameplate.png">
                            <RibbonMenuItem Header="ascending" ImageSource="../Resources/icons/up-arrow.png" Command="{x:Static vm:Commands.SortByAscCommand}" CommandParameter="MovieName"/>
                            <RibbonMenuItem Header="descending" ImageSource="../Resources/icons/down-arrow.png" Command="{x:Static vm:Commands.SortByCommand}" CommandParameter="MovieName"/>
                        </RibbonMenuItem>
                        <RibbonMenuItem Header="year" ImageSource="../Resources/icons/calendar.png">
                            <RibbonMenuItem Header="ascending" ImageSource="../Resources/icons/up-arrow.png" Command="{x:Static vm:Commands.SortByAscCommand}" CommandParameter="Year"/>
                            <RibbonMenuItem Header="descending" ImageSource="../Resources/icons/down-arrow.png" Command="{x:Static vm:Commands.SortByCommand}" CommandParameter="Year"/>
                        </RibbonMenuItem>
                        <RibbonMenuItem Header="rating" ImageSource="../Resources/icons/stars.png">
                            <RibbonMenuItem Header="ascending" ImageSource="../Resources/icons/up-arrow.png" Command="{x:Static vm:Commands.SortByAscCommand}" CommandParameter="Rating"/>
                            <RibbonMenuItem Header="descending" ImageSource="../Resources/icons/down-arrow.png" Command="{x:Static vm:Commands.SortByCommand}" CommandParameter="Rating"/>
                        </RibbonMenuItem>
                    </RibbonMenuButton>
                </RibbonGroup>
                <RibbonGroup Header="Save">
                    <RibbonButton LargeImageSource="../Resources/icons/floppy-disk.png" Command="{x:Static vm:Commands.SaveAllChanges}" Height="50" Margin="0, 7, 0, 0"/>
                </RibbonGroup>
            </RibbonTab>
            <RibbonTab x:Name="usersControl" Header="Users">
                <RibbonTab.Style>
                    <Style TargetType="{x:Type RibbonTab}">
                        <Setter Property="Visibility" Value="Hidden"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding  ElementName=tabController, Path=SelectedIndex}" Value="1">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </RibbonTab.Style>
                <RibbonGroup Header="Generate" Height="70">
                    <RibbonButton LargeImageSource="../Resources/icons/add-friend.png" Command="{x:Static vm:Commands.UsersGeneratorCommand}" Height="40" Margin="5, 5, 0, 0"/>
                </RibbonGroup>
                <RibbonGroup Header="Rate" Height="70">
                    <RibbonButton LargeImageSource="../Resources/icons/star.png" Command="{x:Static vm:Commands.AddRatingCommand}" Height="40" Margin="0, 5, 0, 0"/>
                </RibbonGroup>
                <RibbonGroup Header="Save" Height="70">
                    <RibbonButton LargeImageSource="../Resources/icons/save.png" Command="{x:Static vm:Commands.SaveAllChanges}" Height="40" Margin="0, 5, 0, 0"/>
                </RibbonGroup>
            </RibbonTab>
        </Ribbon>

        <TabControl Name="tabController" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="1" BorderThickness="0" Background="#F2F2F2">
            <TabControl.Resources>
                <Style TargetType="{x:Type Grid}">
                    <Setter Property="Background" Value="#F2F2F2"/>
                </Style>
            </TabControl.Resources>
        </TabControl>
    </Grid>
</RibbonWindow>